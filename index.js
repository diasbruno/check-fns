"use strict";var args=function r(t){var e=t.length,n=new Array(e);for(var u=0;u<e;u++){n[u]=t[u]}return n},keepFirst={all:function r(t,e,n,u,l){return t&&!t.result?t:e(n,u,l)},or:function r(t,e,n,u,l){return t&&t.result?t:e(n,u,l)}},resultMsgToArray=function r(t){return t&&!t.result?t.msg.constructor!=Array?[t.msg]:t.msg:[]},collectAllErrors={all:function r(t,e,n,u,l){var o=e(n,u,l);if(o.result)return t;return{msg:resultMsgToArray(t).concat(resultMsgToArray(o)),result:t.result&&o.result}},or:function r(t,e,n,u,l){if(t&&t.result)return t;var o=e(n,u,l);if(!t||o&&o.result)return o;return{msg:resultMsgToArray(t).concat(resultMsgToArray(o)),result:false}}},T=function r(u,l){return function(r,t,e){var n=u(r);return{msg:n?t:l,result:n}}},object=function r(l){return function(e,n,u){return u=u||keepFirst,Object.keys(l).reduce(function(r,t){return u.all(r,l[t],e[t],n,u)},{msg:n,result:true})}},ordobject=function r(l){return function(r,t,e){e=e||keepFirst;var n={msg:t,result:true};for(var u=0;u<l.length;u+=2){n=e.all(n,l[u+1],r[l[u]],t,e)}return n}},all=function r(){var t=arguments;return function(e,n,u){return u=u||keepFirst,args(t).reduce(function(r,t){return u.all(r,t,e,n,u)},{msg:n,result:true})}},or=function r(){var t=arguments;return function(e,n,u){return u=u||keepFirst,args(t).reduce(function(r,t){return u.or(r,t,e,n,u)},null)}},ifFail=function r(u,l){return function(r,t,e){var n=u(r,t,e);return n.result?n:{msg:l,result:false}}},V=function r(t,e,n){return function(r){return n=n||keepFirst,n.or(null,t,r,e,n)}},validate=function r(t,e,n){return V(t,n,keepFirst)(e)},validateAll=function r(t,e,n){return V(t,n,collectAllErrors)(e)};module.exports={T:T,keepFirst:keepFirst,collectAllErrors:collectAllErrors,object:object,ordobject:ordobject,all:all,or:or,ifFail:ifFail,validate:validate,validateAll:validateAll,V:V};
