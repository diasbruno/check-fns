"use strict";var args=function args(a){var len=a.length,ls=new Array(len);for(var i=0;i<len;i++){ls[i]=a[i]}return ls},keepFirst=function keepFirst(a,b){return!b||!a.result?a:b},collectAllErrors=function collectAllErrors(a,b){if(!b||b.result)return a;var verify=function verify(x){return x&&!x.result&&[x.msg]||[]};return{msg:verify(a).concat(verify(b)),result:a.result&&b.result}},T=function T(f,msg){return function(b,smsg,_){var r=f(b);return{msg:r?smsg:msg,result:r}}},object=function object(o){return function(b,smsg,merge){return merge=merge||keepFirst,Object.keys(o).reduce(function(acc,c){return merge(acc,o[c](b[c],smsg,merge))},{msg:smsg,result:true})}},ordobject=function ordobject(o){return function(b,smsg,merge){merge=merge||keepFirst;var acc={msg:smsg,result:true};for(var i=0;i<o.length;i+=2){acc=merge(acc,o[i+1](b[o[i]],smsg,merge))}return acc}},all=function all(){var _arguments=arguments;return function(b,smsg,merge){return merge=merge||keepFirst,args(_arguments).reduce(function(acc,c){return merge(acc,c(b,smsg,merge))},{msg:smsg,result:true})}},or=function or(){var _arguments2=arguments;return function(b,smsg,merge){return merge=merge||keepFirst,args(_arguments2).reduce(function(acc,c){if(acc&&acc.result)return acc;var x=c(b,smsg,merge);if(!acc&&!x.result||x.result)return x;return merge(acc,x)},null)}},ifFail=function ifFail(f,msg){return function(b,smsg,merge){var r=f(b,smsg,merge);return r.result?r:{msg:msg,result:false}}},V=function V(f,s,m){return function(b){return m=m||keepFirst,m(f(b,s,m),null)}},validate=function validate(f,b,s){return V(f,s,keepFirst)(b)},validateAll=function validateAll(f,b,s){return V(f,s,collectAllErrors)(b)};module.exports={T:T,keepFirst:keepFirst,collectAllErrors:collectAllErrors,object:object,ordobject:ordobject,all:all,or:or,ifFail:ifFail,validate:validate,validateAll:validateAll,V:V};
